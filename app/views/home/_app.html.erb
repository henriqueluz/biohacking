<body>

    <div class="navbar navbar-fixed-top navbar-fixed-width">

      <div class="profile navbar">
         <a href="/" class="logo">
           <%= image_tag "biologo.png" %>
         </a>
         <div class="info">
           <a href="/" class="name">
             Biohacking
           </a>
           <div class="logout">
             <a href="/users/sign_out"  target="_self">Log Out</a>
           </div>
           
           <div class="add">
             
             <a href="/add" class="glyphicon glyphicon-plus" aria-hidden="true"></a>
             
           </div>
           
         </div>

         <div class="menu">

              <%= link_to "Filter", "/filter", class: 'fa fa-search' %>

              <%= link_to "Today", "/", class: 'actived fa fa-calendar-check-o' %>
              
              <%= link_to "Charts", "/charts", class: 'fa fa-bar-chart' %>

         </div>

       </div>

    </div>

    <div class="container main"> 
      <div ng-view></div>
    </div>

  <script type="text/ng-template" id="charts.html">
  
    <canvas id="line" class="chart chart-line" chart-data="data" chart-labels="labels" 
      chart-legend="true" chart-series="series" chart-click="onClick"></canvas>
  
  </script>
  

  <script type="text/ng-template" id="logedit.html">    
    <form class="bioform">
      <div class="section {{ this.getKind( logController.model.kind )  }}" style="display: flex;">
          <div name="display" class="display {{ this.getKind( logController.model.kind )  }}">
             <div>{{ this.getKind( logController.model.kind )  }}</div>
          </div>
      </div>
      <div class="section {{ this.getKind( logController.model.kind )  }}" style="display: flex;">
          <div class="input-group date">
            <input id="logged_at" name="logged_at" ng-model="logController.model.logged_at" class="form-control field" placeholder="Enter text" required>
            <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
          </div>
      </div>
      <div class="section {{ this.getKind( logController.model.kind )  }}" style="display: flex;">
          <input id="description" name="description" ng-model="logController.model.description" class="form-control field" placeholder="Enter tags to edit">
      </div>
      <div class="section {{ this.getKind( logController.model.kind )  }}" style="display: flex;">
          <input id="Delete" name="Delete" class="form-control btn btn-primary" placeholder="Enter text" mandatory="false" type="button" value="Delete" ng-click="logController.destroy()">
          <input id="Done" name="Done" class="form-control btn btn-primary btn-done" placeholder="Enter text" mandatory="false" type="button" value="Done" ng-click="logController.done()">
      </div>
    </form>
    
    
  </script>
  
  <script type="text/ng-template" id="loglist.html">
    <div class="list">
    
      <div ng-show="logController.model.id" ng-include="'logedit.html'"></div>
    
      <div class="row {{getKind(log.kind)}}-ROW" ng-repeat="log in logs track by log.id" ng-click="logController.model = log">

        <div class="kind-info" data-id="{{log.id}}">
          <div class="kind">
            <a> {{getKind(log.kind)}} </a>
            <a class="private" ng-if="log.kind === 1 || log.kind === 3"> secret </a>
          </div>
          <div class="date">{{ log.logged_at | date:'dd/MM/yyyy HH:mm' }}</div>
        </div>

        <div class="tags" ng-bind-html="this.formatTags()">
        </div>

      </div>

    </div>
    
    <p ng-hide="logs.length">You didnt log activity today.</p>
    
  </script>
  
  <script type="text/ng-template" id="add.html">
  <div class="list-group">
    <div class="list-group-item {{value}}" ng-repeat="(key, value) in KIND" ng-click="create(key)" >
      {{value}}
      <div class="tags"> 
        <a>#lowcarb</a> 
        <a>#ketogenic</a> 
        <a>#200g</a> 
        <a>#pork</a> 
        <a>#salad</a> 
        <a>#salt</a> 
        <a>#whole30</a>
      </div>
      
      
    </div>
  </div>
  </script>

  <script type="text/ng-template" id="filter.html">

      Filter 

  </script>
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.min.js" type="text/javascript"></script>
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.6/moment-with-locales.min.js" type="text/javascript"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.7/angular.min.js" type="text/javascript"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.7/angular-route.min.js" type="text/javascript"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.7/angular-resource.min.js" type="text/javascript"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.7/angular-sanitize.min.js" type="text/javascript"></script>
  
  <%= javascript_include_tag "application", type: "text/javascript" %>  
  
</body>