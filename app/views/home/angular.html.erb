<!DOCTYPE html>
<html>
<head>
  <title>Biohacking</title>
  
  <%= favicon_link_tag 'favicon/android-icon-192x192.png', rel: 'icon', type: 'image/png', sizes: "192x192" %>
  <%= favicon_link_tag 'favicon/favicon-32x32.png', rel: 'icon', type: 'image/png', sizes: "32x32" %>
  <%= favicon_link_tag 'favicon/favicon-96x96.png', rel: 'icon', type: 'image/png', sizes: "96x96" %>
  <%= favicon_link_tag 'favicon/favicon-16x16.png', rel: 'icon', type: 'image/png', sizes: "16x16" %>
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

  <link href='https://fonts.googleapis.com/css?family=PT+Sans' rel='stylesheet' type='text/css'>
  
  <%= stylesheet_link_tag 'application', media: 'all' %>  

<!--  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
-->

  <%= csrf_meta_tags %>
  
</head>
<body>

  <% if user_signed_in? %>

    <div class="navbar navbar-fixed-top navbar-fixed-width">

      <div class="profile navbar">
         <div class="logo">
           <%= image_tag "biologo.png" %>
         </div>
         <div class="info">
           <div class="name">
             Biohacking
           </div>
           <div class="logout">
             <%= link_to "Log Out", destroy_user_session_path %>
           </div>
           
           <div class="add">
             
             <a href="/add" class="glyphicon glyphicon-plus" aria-hidden="true"></a>
             
           </div>
           
         </div>

         <div class="menu">

              <%= link_to "Filter", "/filter" %>

              <%= link_to "Today", "/" %>

              <%= link_to "Charts", "/charts" %>

         </div>

       </div>

    </div>

    <div class="container main"> 
      <div ng-view></div>
    </div>

  <% else %>
    <%= link_to "Ola, preciso me logar ", new_user_session_path %>
  <% end %>

  <script type="text/ng-template" id="logedit.html">    
    <form class="bioform">
      <div class="section" style="display: flex;">
          <div name="display" class="display">
             <div>{{ this.getKind( logController.model.kind )  }}</div>
          </div>
      </div>
      <div class="section" style="display: flex;">
          <div class="input-group date">
            <input id="logged_at" name="logged_at" ng-model="logController.model.logged_at" class="form-control field" placeholder="Enter text" mandatory="true">
            <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
          </div>
      </div>
      <div class="section" style="display: flex;">
          <input id="description" name="description" ng-model="logController.model.description" class="form-control field" placeholder="Enter tags to edit" mandatory="false">
      </div>
      <div class="section" style="display: flex;">
          <input id="Delete" name="Delete" class="form-control btn btn-primary" placeholder="Enter text" mandatory="false" type="button" value="Delete" ng-click="logController.destroy()">
          <input id="Done" name="Done" class="form-control btn btn-primary btn-done" placeholder="Enter text" mandatory="false" type="button" value="Done" ng-click="logController.done()">
      </div>
    </form>
    
    
  </script>
  
  <script type="text/ng-template" id="loglist.html">
    <div class="list">
    
      <div ng-show="logController.model.id" ng-include="'logedit.html'"></div>
    
      <div class="row" ng-repeat="log in logs track by log.id" ng-click="logController.model = log">

        <div class="kind-info" data-id="{{log.id}}">
          <div class="kind"><a> {{getKind(log.kind)}} </a></div>
          <div class="date">28/09/2015 06:00</div>
        </div>

        <div class="tags" ng-bind-html="this.formatTags()">
        </div>

      </div>

    </div>
  </script>
  
  <script type="text/ng-template" id="add.html">
  <div class="list-group">
    <div class="list-group-item" ng-repeat="(key, value) in KIND" ng-click="create(key)">{{value}}</div>
  </div>
  </script>

  <%= javascript_include_tag "application", type: "text/javascript" %>
  
</body>
</html>